@page "/editemployee/{id}"
@using Blazored.FluentValidation

@if(Employee == null)
{
    <h3>EditEmployee</h3>
    <div class="spinner"></div>
}
else
{
    <h3>EditEmployee with ID: @Employee.EmployeeId</h3>

    <EditForm Model="@UpdateEmployeeRequest" OnValidSubmit="UpdateEmployee">
        <FluentValidationValidator/>
        <ValidationSummary/>
        <div class="form-group form-row">
            <label for="firstName" class="col-sm-2 col-form-label">Firstname:</label>
            <div class="col-sm-10">
                <InputText id="firstName" class="form-control" placeholder="First Name" @bind-Value="@UpdateEmployeeRequest.FirstName">

                </InputText>
                <ValidationMessage For="@(() => UpdateEmployeeRequest.FirstName)" />
            </div>
        </div>
        <div class="form-group form-row">
            <label for="lastName" class="col-sm-2 col-form-label">LastName:</label>
            <div class="col-sm-10">
                <InputText id="lastName" class="form-control" placeholder="Last Name" @bind-Value="@UpdateEmployeeRequest.LastName">

                </InputText>
                <ValidationMessage For="@(() => UpdateEmployeeRequest.LastName)" />
            </div>
        </div>
        <div class="form-group form-row">
            <label for="Email" class="col-sm-2 col-form-label">Emai:</label>
            <div class="col-sm-10">
                <InputText id="Email" class="form-control" placeholder="Email" @bind-Value="@UpdateEmployeeRequest.Email">

                </InputText>
                <ValidationMessage For="@(() => UpdateEmployeeRequest.Email)" />
            </div>
        </div>
        <div class="form-group form-row">
            <label for="deparment" class="col-sm-2 col-form-label">Deparment:</label>
            <div class="col-sm-10">
                <InputSelect id="deparment" class="form-control" @bind-Value="@UpdateEmployeeRequest.DeparmentId">
                    @foreach (var item in Deparments)
                    {
                        <option value="@item.DeparmentId">@item.DeparmentName</option>
                    }
                </InputSelect>
            </div>
        </div>
        <div class="form-group form-row">
            <label for="gender" class="col-sm-2 col-form-label">Gender:</label>
            <div class="col-sm-10">
                <InputSelect id="gender" class="form-control" @bind-Value="@UpdateEmployeeRequest.Gender">
                    @foreach (var item in Enum.GetValues(typeof(Gender)))
                    {
                        <option value="@item">@item</option>
                    }
                </InputSelect>
            </div>
        </div>
        <div class="form-group form-row">
            <label for="dateofbirst" class="col-sm-2 col-form-label">Date of birth:</label>
            <div class="col-sm-10">
                <InputDate @bind-Value="@UpdateEmployeeRequest.DateOfBirth"></InputDate>
                <ValidationMessage For="@(() => UpdateEmployeeRequest.DateOfBirth)" />
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Update</button>
    </EditForm>
    <h3>@Result</h3>
}

